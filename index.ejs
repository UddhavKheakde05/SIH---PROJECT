<%- include('header.ejs') %>

    <!-- Banner -->
    <section class="main-banner">
        <h2>Engage & Excel in STEM</h2>
        <p class="banner-highlight">Interactive Learning for Classes 6 to 12</p>
        <button class="btn-banner" onclick="window.location.href='learn.html'">Start Learning</button>
    </section>

    <!-- Courses -->
    <section class="courses-section">
        <h3>Popular Courses</h3>
        <div class="courses-grid">
            <!-- Static fallback courses -->
            <div class="course-card course-purple"><span class="course-icon">ğŸ“˜</span>Mathematics</div>
            <div class="course-card course-yellow"><span class="course-icon">ğŸ”¬</span>Science</div>
            <div class="course-card course-green"><span class="course-icon">ğŸ’»</span>Computer Science</div>
            <div class="course-card course-pink"><span class="course-icon">ğŸ§ª</span>Practical Experiments</div>
            <div class="course-card course-orange"><span class="course-icon">ğŸ“</span>Exams & Quizzes</div>
            <div class="course-card course-blue"><span class="course-icon">ğŸ§®</span>Problem Solving</div>
        </div>
    </section>

    <script>
        // Load dynamic courses from API
        async function loadCourses() {
            try {
                const response = await fetch("http://localhost:5000/api/courses");
                if (!response.ok) throw new Error("Failed to fetch courses");

                const courses = await response.json();
                const container = document.querySelector(".courses-grid");

                // Replace static cards with dynamic ones
                container.innerHTML = courses.map(c =>
                    `<div class="course-card" style="background-color: ${c.color || '#eee'}">
                    <span class="course-icon">${c.icon}</span> ${c.name}
                </div>`
                ).join("");
            } catch (err) {
                console.error(err);
            }
        }

        document.addEventListener("DOMContentLoaded", loadCourses);
    </script>

    <%- include('footer.ejs') %>